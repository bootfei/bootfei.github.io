---
title: 'java面试题常见互联网公司'
date: 2021-01-05 13:30:35
tags: java面试题
Categories: java
---



## 字节跳动

### 字节跳动一面：

- 介绍项目，你做了什么、flowable 里面有哪些表 、有没有看过哪些源码、它的结构是怎样的
- redis
  - redis用来做什么
  - 如何保证redis和mysql写入一致（包括新增、更新、删除）
- rabbit mq和kafka
  - 两者的区别
  - mq 用来做什么的
- mysql 如何实现隔离性的
- 你们的分库分表怎么做的
  如果订单表是按照订单号分表的，此时想按照订单类型查询订单怎么办
- epoll
  - epoll有哪些工作模式
- 线上算法题：
  - 合并两个有序链表

### 字节跳动二面：

- 介绍项目
- 限流系统你要怎么实现
  - 限流算法
  - 怎么抽象
  - 还有什么要考虑的？高可用。高可用怎么做
- Java线程池及核心参数意义
  - 结合几个参数讲内部工作原理
  - Jdk提供的线程池有哪些，它们有什么区别，你用了哪些
  - 为什么阿里巴巴代码规范不推荐直接使用提供的线程池，而是自己new
- java里面线程状态里面有哪些
  - waiting和blocked有什么区别
  - blocked需要被唤醒吗
- MySQL数据库
  - mysql select count(字段) 和 select count(*) 有什么区别
  - mysql redo log 和 binlog 区别
  - mysql redo log 落盘时机
  - mysql redo log+binlog 的写入过程
  - 一致性hash算法
- 已知一个jvm进程CPU很高，你要如何排查定位问题
- nn线上算法题：求两个单向链表是否有交叉，有就返回交叉节点

### 字节跳动三面：

全聊项目
问了之前的单元测试的覆盖率
算法思维题：电梯调度问题



## 酷狗

### 酷狗一面：

画之前项目的架构图
kafka用来做什么
rabbit mq和kafka的区别
redis用来做什么
redis的数据类型有哪些
画图问了一个具体的rpc调用过程中如何保证分布式事务的问题
给出一个mysql表，两个事务，一个事务里面有更新、插入两条语句，另一个事务有一条插入语句，问是否有死锁，主要涉及mysql加锁的过程思考
https是否是安全的
https是否可以解决中间人攻击问题
tcp的no_delay参数是做什么的
mysql容器化是否可行

### 酷狗二面：

手写代码：有序数组查找一个元素。二分查找
二分查找和普通遍历有什么区别
为什么O(logN)比O(N)快
mysql索引有哪些
说说B+树索引结构
为什么非叶子节点不存储数据
一个会员表中有5亿数据，有一个性别字段，只有男和女，在这个字段上建索引是否有用，为什么
如何这个性别字段还有一个人妖，人妖只有几行数据，此时建索引是否有用
写了两个事务，一个事务有插入，另一个事务查询，问查询是否能查到插入，考事务隔离
mysql事务隔离是如何实现的
HTTP1.1有什么弊端、HTTP2解决了什么
HTTP3解决了什么，为什么要替换掉原本的TCP而自己开发一套传输协议
TCP为什么要三次握手
说下TCP滑动窗口
JVM类加载过程
双亲委派要解决什么问题
ReentrantLock和Synchronized区别有哪些
聊聊JVM的垃圾收集，分代算法
跨代引用如何解决
有没有了解下一代GC

### 酷狗三面：

聊项目
之前项目有没有做多机房容灾
如何解决redis和mysql写入一致
kafka用来做什么？讲了订阅mysql binlog同步ES
如何保证同步数据不丢失？
了解过mysql的高可用吗
分布式锁实现要考虑什么（这里有个插曲，面试官讲了重入锁的概念，他的理解有点偏差），重点讲了锁超时、自动延长、自动释放问题
有没有了解过分库分表
分库分表可以怎么分
还有一些忘了，第三面较轻松。

## 唯品会

### 唯品会基础架构一面：

介绍项目里面的一个能体现价值的地方
ES用来做什么
说一下ES的一个查询过程
ES索引结构是怎样的？为什么使用ES可以达到这样的搜索效果，可以在一个比较小的内存存储大量数据
ES的refresh是什么
segment知道吗
ES的flush是什么，和refresh区别
JVM synchronized有没有了解
偏向锁、锁膨胀有了解过吗？具体聊一下这个过程
volatile 解决了什么问题
volatile对于long、double类型有没有什么特别的
JMM内存语义的理解
项目里面用了什么垃圾收集器，答G1，问调了什么参数
redis(底层)数据结构是否了解过（唯一一个问了redis数据结构的面试）
说一下redis的字符串怎么实现的
说一下redis的字典怎么实现的
问了TCP开发的两个问题，FST序列化和一个没听过的

## 三七互娱集团技术中心开发运维岗：

### 一面：

介绍项目、聊项目
秒杀系统的架构
redis基本数据结构
说一下JVM类加载过程+
JVM垃圾收集时机
说一下JVM垃圾收集过程

### 二面：

- 秒杀系统的架构..

- redis基本数据结构..

-  有A、B、C三个机房，如何实现在A机房向B、C机房的100和50台主机实现高效文件传输（这个问题感觉有点水）
   <!--其实不水，很难的，BootFei认为此题的真正目的是要使用斐波那契数列的方式，在B\C机房内的主机内进行复制和转发-->
  
  > 如果单线程复制，这个是斐波那契数列的问题 
  > 假设时间单位T是刻：
  > 第一台电脑在第一刻，复制到第二个电脑上，然后这2个电脑，在第2刻同时复制出4个，然后是8个1，2，4，8，16，32，64。。。复杂度大概是2^N规模，时间需要T*LgN
  > 就是说1024个电脑，需要十次
  > 50个电脑，2^6=64>50,需要6次。
  >
  > 如果可以并行，可以考虑缩小文件规模，把文件M变成k个小m，需要时间变成t, 这样可以大大缩小总体时间。那么时间就变成了t=T/k
  > 每个电脑上提前装个软件，用来分发复制，时间需要T*Lg(N)/k ，但是要加上一个分割C1和一个合并C2的时间。
  > 这要求C1+T*Lg(N)/k+C2的最小值，要测定三个变量C1、C2和k的最优比是多少。
  > 如果C1，C2和k成正比，那么就变成了
  > 2ck+T*Lg(N)/k的最小值,这里只有k是变量，用大一知识，对这个函数求2次导数=0，就可以找到在取值范围内的极值点，得到k
  > 大概思路如此，有些数学早忘记了，可能有不精确的地方，希望大家弥补。
  >
  > 
  >
  > 作者：知乎用户
  > 链接：https://www.zhihu.com/question/53980121/answer/137753443
> 来源：知乎
   > 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
   
- 算法题：斐波那契数列（笔试题里面有一个更难的爬楼梯了..）

- 那换一个：给定一个有序数组和一个整型k，表示将有序数组循环右移k位，怎么实现

## 阿里

### 阿里一面

- MySQL
  - redo和undo深入问题
- 微服务
  - 服务注册发现的过程
  - 服务下线以后，客户端如何识别该服务已经下线
- redis
  - redis数据分布不均匀如何处理